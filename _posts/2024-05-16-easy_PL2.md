---
title: Easy Foundations for Programming Languages II — Notation and Mathmatical Conventions
date: 2024-05-20 22:15:00 +500
math: true
categories: [Theory, Programming Language]
tags: [note, lang-en, PL]
---

## Grammers

Grammers provide a convenient method for defining infinite set of expressions. 

Consider the simple language of numeric expressions given by the grammar

$$
\begin{split}
&e ::= n \mid e+e \mid e-e\\
&n ::= d \mid nd\\
&d ::= 0 \mid 1 \mid 2 \mid ... \mid 9
\end{split}
$$

where the first symbol $$e$$ is the **start symbol**. It is the symbol you need to begin with if you want to derive a well-formed expression from the rules of a grammar.

The way a start symbol is used is that we begin with $$e$$, and continue to replace a symbol that occurs on the left of the **::=** with one of the strings between verticle bars on the right until none of the **nonterminals** $$e$$, $$n$$, or $$d$$ are left. 

> **Nonterminals** are symbols occurs in the left of $$::=$$.
{: .prompt-tip }

For example, here are two derivations of well-formed expressions:

$$e \rightarrow n \rightarrow nd \rightarrow dd \rightarrow 2d \rightarrow 25$$

$$ e \rightarrow e+e \rightarrow e+e-e \rightarrow ... \rightarrow n+n-n \rightarrow ... \rightarrow 10+15-20$$

## Induction on Proofs

A **Hilbert-style proof system** consists of axioms and proof rules. An **axiom** of a proof system is a formula that is provable by definition. An **inference rule** asserts that if some list of formula is provable, then another formula is also provable. A **proof**, therefore, is a structured object built from formulas according to constraints established by a set of axioms and inference rules. 

These definitions may seem obscure at first glance. Now let's take a closer look about this proof system.

Axioms and inference rules are generally written as **schemes**, representing all formulas or proof steps in a given form.
We start from the most basic axiom scheme — the reflexivity axiom for equality.

$$e=e \tag*{($ref$)}$$

This axiom scheme asserts that every equation of the form $$e=e$$ is an axiom. For example, $$x = x$$, $$y=y$$, and $$3=3$$ axioms under this scheme.

An inference rule scheme generally has the form

$$\frac{A_1 \: A_2 \:...\:A_n}{B}$$

meaning that if we have proofs of formulas of the form $$A_1$$, $$A_2$$, and $$A_n$$, then we can combine these proofs to obtain a proof of the corresponding formula $$B$$.

For example, the inference rule for transitivity of equality is written

$$\frac{e_1 = e_2 \quad e_2 = e_3}{e_1=e_3} \tag*{($trans$)}$$

This means that if we have a proof of $$3+5=8$$ and a proof of $$8 = 2^3$$, then we can combine these two proofs to form a proof of the equation $$3+5 = 2^3$$.

Technically, the formulas above the horizontal line are called **antecedents** of the proof rule, and the formula below the line are called the  **consequence**.

Formally, a proof can be defined as a sequence of formulas, with each formula either an axiom or following from previous formulas by a single inference rule. Next, we will use a concrete example to show how to make use of this proof system.


### Example

#### Proof System Structure

Consider a simple proof system for inequalities $$e \leq e'$$, where $$e$$ and $$e'$$ are generated by the example grammar

$$e ::= 0 \mid 1 \mid e+e \mid e*e$$

also used above. The proof system has two axioms, one stating that $$\leq$$ is reflexive

$$e \leq e \tag*{($refl$)}$$

and the other that $$0$$ is less than any other expression.

$$0 \leq e \tag*{($0 \leq$)}$$

Moreover, there is a transitivity rule and two additional inference rules giving monotonicity of addition and multiplication.

$$\frac{e \leq e' \quad e' \leq e''}{e \leq e''} \tag*{($trans$)}$$

$$\frac{e_1 \leq e_2 \quad e_3 \leq e_4}{e_1 + e_2 \leq e_3+e_4} \tag*{($+mon$)}$$

$$\frac{e_1 \leq e_2 \quad e_3 \leq e_4}{e_1 * e_2 \leq e_3*e_4} \tag*{($*mon$)}$$

This is a relatively weak proof system for the ordinary ordering on natural numbers. However, it is sufficient to illustrate some basic ideas!

#### Prove Soundness

A very common property to establish for a proof a system is that every provable formula is true. This is called **soundness** of the proof system.

We want to prove the soundness of our example proof system for $$\leq$$. More precisely, we prepare to show that the property

$$
\begin{split}
P(\pi) \stackrel{\text{def}}{=} &\text{ if } \pi \text{ is a proof of } e \leq e' \text{ then for all values of variables,}\\
&\text{ the vlaue of } e \text{ is } \leq \text{ the value of } e'
\end{split}
$$

holds for every proof $$\pi$$ in our system. In other words, if we can prove a formula, then the formula is true, for all possible values of the variables that occur in the formula.

The first step is to establish the property $$P$$ for each of the axioms. This is easy, since whatever values we give to the variables occurring in an expression $$e$$, the value of $$e$$ us some specific natural number. Based on our mathmatical knowledge, we always have $$e \leq e$$ and $$0 \leq e$$. 

Then we try to do induction using three inference rules. We first show the case for $$(+mon)$$ rule. Suppose that we may prove inequalities $$e_1 \leq e_2$$ and $$e_3 \leq e_4$$. Let us pick values $$n_1, n_2, n_3, n_4 \in \mathbb{N}$$ for the variables that occur in $$e_1, e_2, e_3, e_4$$, such that $$n_1 \leq n_2$$ and $$n_3 \leq n_4$$. It is easy to see that therefore $$n_1 + n_2 \leq n_3+n_4$$ . Of course we can prove something similar for $$(*mon)$$ and $$(trans)$$. Considering this reasoning applies for all possible values of the variables, the property $$P(\pi)$$ holds for proofs ending in any inference rules in our proof system.