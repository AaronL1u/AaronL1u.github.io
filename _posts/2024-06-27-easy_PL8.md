---
title: Easy Foundations for Programming Languages VIII — Proof Systems
date: 2024-06-27 01:39:00 +500
math: true
categories: [Theory, Programming Language]
tags: [note, lang-en, PL]
---

## Equations and Theories

The equational proof system of typed lambda calculus may be used to derive equations that hold in all models, and to derive equations that follow from equational hypothesis.

Unlike algebra, the valid equations between typed lambda terms are nontrivial. In this section, we will devote some attention to the relationship between typed lambda calculus and algebra. In addition, to illustrate the expressiveness of typed lambda calculus, we also describe the lambda theory corresponding to a fixed set of recursive types and a theory for the higher-order logic.

> The equivalence we discuss here is the axiomatic equivalence. Recall that "axiomatic semantics consists of a proof system for deducing properties of programs and their parts" in [Easy Foundations for Programming Languages IV — PCF Semantics]({{site.url}}/posts/easy_PL4/).
{: .prompt-tip}

A typed equation has the form

$$
\begin{split}\\
\Gamma \:\triangleright\: M = N:\tau
\end{split}
$$

where we assume that $M$ and $N$ have type $\tau$ in context $\Gamma$.

Intuitively, the equation $$ \{ x_1:\sigma_1 ,..., x_k:\sigma_k \} \:\triangleright\: M = N:\tau$$ means that for all type-correct values of the variables $x_1:\sigma_1 ,..., x_k:\sigma_k$, expressions $M$ and $N$ denote the same element of type $\tau$. Another way of writing this equation might be

$$\forall x_1:\sigma_1 ...\forall x_k:\sigma_k \: .\: M = N:\tau.$$

> Because the variables listed in the type assignment are universally quantified, an equation may hold vacuously if some type is empty.  
For example, if $\sigma$ is empty, then the equation $$\forall x:\sigma . \forall y:\rho . M = N:\tau$$ is true simply because there is no possible value for $x$.
{: .prompt-tip}

Since we include type assignments in equations, we have an equational version of the typing rule that adds variables to type assignments,

$$\frac{\Gamma \:\triangleright\: M = N:\sigma}{\Gamma , x:\tau \:\triangleright\: M = N:\sigma} \tag*{($add \: var$)}$$

The next group of axioms and inference rules make provable equality an *equivalence relation*. 

$$\Gamma \:\triangleright\: M = M:\sigma \tag*{($ref$)}$$

$$\frac{\Gamma \:\triangleright\: M = N:\sigma}{\Gamma \:\triangleright\: N = M:\sigma} \tag*{($sym$)}$$

$$\frac{\Gamma \:\triangleright\: M = N:\sigma ,\: \Gamma \:\triangleright\: N = P:\sigma}{\Gamma \:\triangleright\: M = P:\sigma} \tag*{($trans$)}$$



> An **equivalence relation** is a binary relation that is reflexive, symmetric and transitive. More to see this [wiki page](https://en.wikipedia.org/wiki/Equivalence_relation).
{: .prompt-tip}

The two term-formation operations of $\lambda^\to$ are abstraction and application, both of which preserve equality. The rule

$$\frac{\Gamma,x:\sigma \:\triangleright\: M = N:\tau}{\Gamma \:\triangleright\: \lambda x :\sigma.M = \lambda x :\sigma.N:\sigma \to \tau} \tag*{($\xi$)}$$

says that if $M$ and $N$ are equal for all values of $x$, then the two functions $\lambda x :\sigma.M$ and $\lambda x :\sigma.N$ are equal.

For application, we have the rule

$$\frac{\Gamma\:\triangleright\: M_1 = M_2:\sigma \to \tau,\: \Gamma \:\triangleright\: N_1 = N_2:\sigma}{\Gamma \:\triangleright\:M_1\: N_1 = M_2\:N_2:\tau} \tag*{($\nu$)}$$

saying that equals applied to equals yield equals.

> It is interesting to note that these two rules have the same form as the introduction and elimination rules for $\to$.
{: .prompt-tip}

For $\lambda^\to$, three axioms remain. The first describe renaming of bound variables, while the other two specify that the introduction and elimination rules are "inverses" of each other. These axioms are already illustrated in previous articles, so we just list them below and will not discuss them in detail here.

$$\Gamma \:\triangleright\: \lambda x:\sigma.M = \lambda y:\sigma.[y/x]M : \sigma \to \tau \text{, provided } y \notin FV(M)\tag*{($\alpha$)}$$

$$\Gamma \:\triangleright\: (\lambda x:\sigma.M)\:N = [N/x]M : \tau \tag*{($\beta$)}$$

$$\Gamma \:\triangleright\: \lambda x:\sigma.(M\:x) = M : \sigma \to \tau \text{, provided } x \notin FV(M)\tag*{($\eta$)}$$

> $FV(M)$ represents the set of free variables in $M$, i.e., the variables appearing in $M$ that are not bound by $\lambda$. 
{: .prompt-tip}

The following lemma can be easily proved by induction on equational proofs.

**(Lemma.)** If $\vdash \Gamma\:\triangleright\: M = N:\sigma$ and $\Gamma \cap \Gamma'$ contains all free variables of $M$ and $N$, then $\vdash \Gamma'\:\triangleright\: M = N:\sigma$.